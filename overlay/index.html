<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>3D Model (COLLADA)</title>
    <meta name="description" content="3D Model (COLLADA) â€” A-Frame">
    <script src="aframe-master.js"></script>

	
	 <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.42.2/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.42.2/mapbox-gl.css' rel='stylesheet' />
  </head>
  
  <style>


 
			  #map { position:absolute; top:0; bottom:0; width:100%; }
			#a {
      
      position: absolute;
      top: 0px;
      width: 100%;
      height: 100%;
      z-index: 1;
      opacity: 1;
     
	}
	
	

        </style>
  
  
  
  <body>
  
  
  

  
  
  <div id='map'></div>
<script>
mapboxgl.accessToken = 'pk.eyJ1IjoiemFlcmEiLCJhIjoiY2o3YnlzbzY3MHlpdjMxcGxqMzZzMXExZSJ9.UcS30k8fGS4bC7fujuKarw';
var map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/mapbox/light-v9',
    zoom: 13,
    center: [-122.447303, 37.753574]
});

map.on('load', function () {

    map.addLayer({
        "id": "terrain-data",
        "type": "line",
        "source": {
            type: 'vector',
            url: 'mapbox://mapbox.mapbox-terrain-v2'
        },
        "source-layer": "contour",
        "layout": {
            "line-join": "round",
            "line-cap": "round"
        },
        "paint": {
            "line-color": "#ff69b4",
            "line-width": 1
        }
    });
});
</script>

    <a-scene style="pointer-events:none;" >
      <a-assets>
        <a-asset-item id="tree" src="tree/tree2.dae"></a-asset-item>
      </a-assets>

      <a-collada-model src="#tree" rotation="0 45 0"></a-model>
      <a-entity position="0 0 4">
        <a-camera id="cam"></a-camera>
      </a-entity>
    </a-scene>
  </body>
  


</html>

<script>


var posx=map.transform.x;
	var posy=map.transform.y;
	var posz=map.transform.z;


this.map.on('move', function() { 


		  var cam = document.getElementById("cam");
          var campos = cam.getAttribute("position");
          var camrot = cam.getAttribute("rotation");

		  campos.x=-(posx-map.transform.x)/100;
		  campos.y=(posy-map.transform.y)/100;

	});
		

</script>
